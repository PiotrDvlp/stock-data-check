(function(t){function e(e){for(var a,r,c=e[0],i=e[1],l=e[2],u=0,m=[];u<c.length;u++)r=c[u],Object.prototype.hasOwnProperty.call(o,r)&&o[r]&&m.push(o[r][0]),o[r]=0;for(a in i)Object.prototype.hasOwnProperty.call(i,a)&&(t[a]=i[a]);p&&p(e);while(m.length)m.shift()();return s.push.apply(s,l||[]),n()}function n(){for(var t,e=0;e<s.length;e++){for(var n=s[e],a=!0,c=1;c<n.length;c++){var i=n[c];0!==o[i]&&(a=!1)}a&&(s.splice(e--,1),t=r(r.s=n[0]))}return t}var a={},o={app:0},s=[];function r(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=t,r.c=a,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)r.d(n,a,function(e){return t[e]}.bind(null,a));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/stock-data-check/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],i=c.push.bind(c);c.push=e,c=c.slice();for(var l=0;l<c.length;l++)e(c[l]);var p=i;s.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},3269:function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("2b0e"),o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("the-layout",[n("router-view")],1)],1)},s=[],r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"layout"},[n("the-navbar"),n("main",{staticClass:"layout__main pt-4"},[n("b-container",{attrs:{fluid:""}},[n("b-row",[n("b-col",[n("h1",{staticClass:"h4 mb-4"},[t._v(t._s(t.setTitle))])])],1),n("b-row",[t._t("default")],2)],1)],1)],1)},c=[],i=(n("b0c0"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("header",{staticClass:"layout__header"},[n("b-navbar",{attrs:{toggleable:"sm",type:"light",variant:"light"}},[n("b-container",{attrs:{fluid:""}},[n("b-navbar-toggle",{attrs:{target:"nav-text-collapse"}}),n("b-navbar-brand",[t._v("Stock Tracker")]),n("b-collapse",{attrs:{id:"nav-text-collapse","is-nav":""}},[n("b-navbar-nav",[n("b-nav-item",{attrs:{to:"/"}},[t._v("Track New Company")]),n("b-nav-item",{attrs:{to:"/company-list"}},[t._v("Companies")])],1)],1)],1)],1)],1)}),l=[],p={name:"TheNavbar"},u=p,m=(n("b3ee"),n("2877")),d=Object(m["a"])(u,i,l,!1,null,null,null),h=d.exports,f={name:"TheLayout",components:{TheNavbar:h},computed:{setTitle:function(){return"CompanyAdd"===this.$route.name?"Track new company":"Companies"}}},y=f,b=Object(m["a"])(y,r,c,!1,null,null,null),v=b.exports,_={name:"App",components:{TheLayout:v}},C=_,g=Object(m["a"])(C,o,s,!1,null,null,null),O=g.exports,w=n("8c4f"),j=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-col",{staticClass:"d-flex justify-content-center align-center",attrs:{cols:"3"}},[n("form-data-model",{attrs:{filter:t.companySymbol},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.addCompany,o=e.companies,s=e.loading,r=e.selectCompany;return[s?n("b-spinner",{staticClass:"m-5"}):n("b-form",{on:{submit:function(t){return t.preventDefault(),a.apply(null,arguments)}}},[n("b-form-group",{attrs:{id:"input-group-1",label:"Company symbol:","label-for":"company-symbol",description:"Provide the stock exchange symbol of a company you want to track."}},[n("vue-bootstrap-typeahead",{attrs:{data:o,serializer:function(t){return t.symbol},placeholder:"Enter company symbol"},on:{hit:function(t){return r(t)}},scopedSlots:t._u([{key:"suggestion",fn:function(e){var a=e.data,o=e.htmlText;return[n("span",{staticClass:"d-flex justify-content-between align-center"},[n("span",{domProps:{innerHTML:t._s(o)}}),n("small",[t._v(t._s(a.name))])])]}}],null,!0),model:{value:t.companySymbol,callback:function(e){t.companySymbol=e},expression:"companySymbol"}})],1),n("b-button",{staticClass:"mt-4",attrs:{disabled:!t.companySymbol.length,type:"submit",variant:"primary"}},[t._v("Track")])],1)]}}])})],1)},k=[],x=n("2909"),S=n("5530"),T=n("3835"),D=n("c7eb"),L=n("1da1"),A=(n("d81d"),n("d3b7"),n("ac1f"),n("5319"),n("3ca3"),n("ddb0"),n("99af"),n("d4ec")),M=n("bee2"),N=n("bc3a"),P=n.n(N),E="35P88PTYC0V4WNWM",$=function(){function t(){Object(A["a"])(this,t);var e=P.a.create();this.service=e}return Object(M["a"])(t,[{key:"getCompanyBySymbol",value:function(t){return this.service.get("https://www.alphavantage.co/query?function=SYMBOL_SEARCH&keywords=".concat(t,"&apikey=").concat(E))}},{key:"getClearbitData",value:function(t){return this.service.get("https://autocomplete.clearbit.com/v1/companies/suggest?query=".concat(t))}},{key:"getAlphavData",value:function(t){return this.service.get("https://www.alphavantage.co/query?function=GLOBAL_QUOTE&symbol=".concat(t,"&apikey=").concat(E))}},{key:"getAlphavInterday",value:function(t){return this.service.get("https://www.alphavantage.co/query?function=TIME_SERIES_INTRADAY&symbol=".concat(t,"&interval=5min&apikey=").concat(E))}}]),t}(),I=new $,R=n("2ef0"),B=n("ec26"),F=(n("e9c4"),function(t,e){return localStorage.setItem(t,JSON.stringify(e))}),q=function(t){return JSON.parse(localStorage.getItem(t))},J=n("ade3"),z=(n("b64b"),function(t){return Object(R["camelCase"])(t.substring(t.indexOf(" ")+1))}),G=function(t){return Object.keys(t).reduce((function(e,n){return Object(S["a"])(Object(S["a"])({},e),Object(J["a"])({},z(n),t[n]))}),{})},Q={props:{filter:String},data:function(){return{bestMatches:[],chosenCompanies:[],chosenCompany:null,error:null,loading:!1}},created:function(){var t,e=null!==(t=q("chosenCompanies"))&&void 0!==t?t:[];e.length&&(this.chosenCompanies=e)},computed:{companies:function(){return this.bestMatches.length?this.bestMatches.map((function(t){return G(t)})):[]}},methods:{selectCompany:function(t){this.chosenCompany=t},findCompanyBySymbol:function(t){var e=this;return Object(L["a"])(Object(D["a"])().mark((function n(){var a;return Object(D["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,I.getCompanyBySymbol(t);case 3:a=n.sent,e.bestMatches=a.data.bestMatches,e.error=null,n.next=13;break;case 8:n.prev=8,n.t0=n["catch"](0),e.bestMatches=[],e.error=n.t0.response,console.error(n.t0.response);case 13:case"end":return n.stop()}}),n,null,[[0,8]])})))()},addCompany:function(){var t=this,e=this.chosenCompanies.some((function(e){var n=e.symbol;return t.chosenCompany.symbol===n})),n=this.chosenCompany.name.replace(/[^a-z0-9]+/gi,"");e?console.error("Company is already present"):this.getAdditionalCompanyData(n)},getAdditionalCompanyData:function(t){var e=this;return Object(L["a"])(Object(D["a"])().mark((function n(){var a,o,s,r,c,i;return Object(D["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return e.loading=!0,n.prev=1,a=I.getClearbitData(t),o=I.getAlphavData(e.chosenCompany.symbol),n.next=6,Promise.all([a,o]);case 6:s=n.sent,r=Object(T["a"])(s,2),c=r[0],i=r[1],e.setAdditionalData(c.data,i.data),e.error=null,n.next=18;break;case 14:n.prev=14,n.t0=n["catch"](1),e.error=n.t0.response,console.error(e.response);case 18:return n.prev=18,e.loading=!1,n.finish(18);case 21:case"end":return n.stop()}}),n,null,[[1,14,18,21]])})))()},setAdditionalData:function(t,e){var n=Object(B["a"])(),a=Object(S["a"])(Object(S["a"])(Object(S["a"])(Object(S["a"])({},t[0]&&Object(S["a"])({},t[0])),e["Global Quote"]&&Object(S["a"])({},G(e["Global Quote"]))),this.chosenCompany),{},{uuid:n});this.chosenCompany=a,this.handleStorage()},handleStorage:function(){this.chosenCompanies?(F("chosenCompanies",[].concat(Object(x["a"])(this.chosenCompanies),[this.chosenCompany])),this.$router.push("/company-list")):F("chosenCompanies",[this.chosenCompany])}},watch:{filter:Object(R["debounce"])((function(t){t.length&&this.findCompanyBySymbol(t)}),500)},render:function(){return this.$scopedSlots.default({addCompany:this.addCompany,chosenCompanies:this.chosenCompanies,companies:this.companies,loading:this.loading,selectCompany:this.selectCompany})}},Y={name:"CompanyAdd",components:{FormDataModel:Q},data:function(){return{companySymbol:""}}},H=Y,W=Object(m["a"])(H,j,k,!1,null,null,null),U=W.exports,V=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-col",{attrs:{cols:"4"}},[n("company-list-model",{scopedSlots:t._u([{key:"default",fn:function(e){var a=e.chosenCompanies,o=e.loading,s=e.removeFromList;return[n("div",[o?n("b-spinner",{staticClass:"m-5"}):a.length&&!o?n("ul",{staticClass:"company__list"},t._l(a,(function(t){return n("company-list-item",{key:t.uuid,attrs:{company:t},on:{"remove-company":s}})})),1):n("div",[n("div",[n("p",[t._v(" There are no companies yet. "),n("router-link",{attrs:{to:"/"}},[t._v(" Track your first company.")])],1)])])],1)]}}])})],1)},K=[],X=(n("4de4"),n("7db0"),{data:function(){return{chosenCompanies:[],error:null,loading:!1}},created:function(){var t,e=null!==(t=q("chosenCompanies"))&&void 0!==t?t:[];e.length&&(this.chosenCompanies=e,this.getLatestData())},methods:{getLatestData:function(){var t=this;return Object(L["a"])(Object(D["a"])().mark((function e(){var n,a;return Object(D["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.chosenCompanies.map((function(t){var e=t.symbol;return I.getAlphavInterday(e)})),t.loading=!0,e.prev=2,e.next=5,Promise.all(n);case 5:a=e.sent,t.formatLatestData(a),e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](2),console.error(e.t0);case 12:return e.prev=12,t.loading=!1,e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[2,9,12,15]])})))()},formatLatestData:function(t){var e=t.filter((function(t){var e=t.data;return e["Meta Data"]})).reduce((function(t,e){var n=G(e.data["Meta Data"]),a=n.symbol,o=n.lastRefreshed,s=G(e.data["Time Series (5min)"][o]),r=s.close,c={close:r,lastRefreshed:o,symbol:a};return t.push(c),t}),[]);this.setLatestData(e)},setLatestData:function(t){this.chosenCompanies=this.chosenCompanies.map((function(e){var n=t.find((function(t){return t.symbol===e.symbol}));return n?Object.assign(e,n):e})),F("chosenCompanies",this.chosenCompanies)},removeCompany:function(t){this.chosenCompanies=this.chosenCompanies.filter((function(e){var n=e.uuid;return n!==t})),F("chosenCompanies",this.chosenCompanies)}},render:function(){return this.$scopedSlots.default({chosenCompanies:this.chosenCompanies,removeFromList:this.removeCompany})}}),Z=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("li",{staticClass:"company-data",on:{mouseover:function(e){t.showRemoveOption=!0},mouseleave:function(e){t.showRemoveOption=!1}}},[n("b-card",{staticClass:"d-flex flex-row p-2",attrs:{"no-body":""}},[n("span",{directives:[{name:"show",rawName:"v-show",value:t.showRemoveOption,expression:"showRemoveOption"}],staticClass:"company-data__remove",on:{click:t.removeCompany}},[n("b-icon-x-lg",{})],1),n("div",{staticClass:"company-data__logo"},[n("b-img",{attrs:{src:t.setImage,fluid:""}})],1),n("div",{staticClass:"company-data__details"},[n("div",{staticClass:"company-data__name"},[n("span",{staticClass:"company-data__info company-data__info--bold compaenvny-data__info--big"},[t._v(t._s(t.company.name))]),n("span",{staticClass:"company-data__info"},[t._v(t._s(t.company.symbol))]),n("span",{staticClass:"company-data__info"},[t._v(t._s(t.company.domain))])]),n("div",{staticClass:"company-data__local"},[n("span",{staticClass:"company-data__info"},[t._v(t._s(t.company.region))]),n("span",{staticClass:"company-data__info"},[t._v(t._s(t.company.marketOpen)+" - "+t._s(t.company.marketClose))]),n("span",{staticClass:"company-data__info"},[t._v(t._s(t.company.timezone))])]),n("div",{staticClass:"company-data__stock"},[t.company.price?n("span",{staticClass:"company-data__info company-data__info--bold"},[t._v(t._s(t.parseNumber.price)+" "+t._s(t.company.currency))]):t._e(),t.company.change?n("span",{staticClass:"company-data__info",class:t.classObject},[t._v(t._s(t.parseNumber.change)+" ("+t._s(t.company.changePercent)+") "),n(t.setArrow,{tag:"component"})],1):t._e(),n("span",{staticClass:"company-data__info"},[t._v("Closed: "+t._s(t.company.latestTradingDay))])])])])],1)},tt=[],et={name:"CompanyListItem",props:{company:{type:Object}},data:function(){return{showRemoveOption:!1}},computed:{setImage:function(){return this.company.logo?this.company.logo:"https://via.placeholder.com/64x64"},parseNumber:function(){var t=this.company,e=t.change,n=t.price;return e&&n?{change:parseFloat(e),price:parseFloat(n)}:{change:"No Data",price:"No Data"}},getChange:function(){return this.parseNumber.change>0},classObject:function(){return{"company-data__info--green":this.getChange,"company-data__info--red":!this.getChange}},setArrow:function(){return this.getChange?"b-icon-arrow-up":"b-icon-arrow-down"}},methods:{removeCompany:function(){this.$emit("remove-company",this.company.uuid)}}},nt=et,at=(n("e517"),Object(m["a"])(nt,Z,tt,!1,null,"5563bdb2",null)),ot=at.exports,st={name:"CompanyList",components:{CompanyListItem:ot,CompanyListModel:X}},rt=st,ct=(n("7a22"),Object(m["a"])(rt,V,K,!1,null,"61185d33",null)),it=ct.exports;a["default"].use(w["a"]);var lt=[{path:"/",name:"CompanyAdd",component:U},{path:"/company-list",name:"CompanyList",component:it}],pt=new w["a"]({routes:lt}),ut=pt,mt=n("5f5b"),dt=n("b1e0"),ht=n("d45f");n("f9e3"),n("2dd8");a["default"].config.productionTip=!1,a["default"].component("vue-bootstrap-typeahead",ht["a"]),a["default"].use(mt["a"]),a["default"].use(dt["a"]),new a["default"]({router:ut,render:function(t){return t(O)}}).$mount("#app")},7688:function(t,e,n){},"7a22":function(t,e,n){"use strict";n("7688")},b3ee:function(t,e,n){"use strict";n("3269")},e517:function(t,e,n){"use strict";n("e977")},e977:function(t,e,n){}});
//# sourceMappingURL=app.f0d463be.js.map